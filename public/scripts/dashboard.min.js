var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,c,b){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(c.call(b,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var c=0;return $jscomp.iteratorPrototype(function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,c){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var b=0,d={next:function(){if(b<a.length){var e=b++;return{value:c(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");$("#myModal").on("show.bs.modal",function(a){$("#contactInfo").find(".emails").text("");$("#contactInfo").find(".phone").text("");var c=$(this),b=$(a.relatedTarget);a=b.data("id");var d=b.data("link");b=b.data("pname");c.find(".modal-title").text("Contact Info - "+b);a&&d&&callInfo(a,d)});
function downloadCSV(){axios.get("/api/shortlist/dw/csv").then(function(a){window.open(a.data.fileUrl,"_blank")}).catch(function(a){403===a.response.status&&swal("",a.response.data.message,"warning")})}
function callInfo(a,c){axios.get("/api/profile/info/"+a).then(function(a){var c=a.data.email.join(", ");c&&$("#contactInfo").find(".emails").text(c);$("#contactInfo").find(".phone").text(a.data.contact);$("#contactInfo").show()}).catch(function(b){401===b.response.status&&($("#getContact").attr("data-link",c),$("#getContact").attr("data-id",a),$("#getInfo").show())})}
function getInfoHandler(){var a=$(this).data("link"),c=$(this).data("id");a&&c&&axios.post("/api/shortlist/updateshortlist",{holasearchlink:a}).then(function(b){$("#getInfo").hide();c&&a&&callInfo(c,a)}).catch(function(a){console.log("Please contact help@holaconnect.com")})}Vue.filter("formatDate",function(a){if(a)return moment(String(a)).format("DD-MMM-YYYY hh:mm:ss")});
Vue.component("data-grid",{delimiters:["${","}"],template:"#grid-template",props:{data:Array,columns:Array,filterKey:String},data:function(){var a={};this.columns.forEach(function(c){a[c]=1});return{sortKey:"",sortOrders:a}},computed:{filteredData:function(){var a=this.sortKey,c=this.filterKey&&this.filterKey.toLowerCase(),b=this.sortOrders[a]||1,d=this.data;c&&(d=d.filter(function(a){return Object.keys(a).some(function(b){return-1<String(a[b]).toLowerCase().indexOf(c)})}));a&&(d=d.slice().sort(function(c,
d){c=c[a];d=d[a];return(c===d?0:c>d?1:-1)*b}));return d}},filters:{capitalize:function(a){return a.charAt(0).toUpperCase()+a.slice(1)}},methods:{sortBy:function(a){this.sortKey=a;this.sortOrders[a]*=-1},removeShortList:function(a){var c=a.id;this.data.splice(a,1);axios.delete("/api/shortlist/"+c).then(function(){swal("",a.name+" removed from leads","warning")}).catch(function(a){console.log("Please contact help@holaconnect.com")})}}});
var vm=new Vue({delimiters:["${","}"],el:"#datagrid",data:{searchQuery:"",gridColumns:" name headline location profiles tags note updated contact".split(" "),gridData:[],startRow:0,rowsPerPage:10},mounted:function(){this.$nextTick(function(){$("#getContact").click(getInfoHandler);axios.get("/api/shortlist").then(function(a){a.data.forEach(function(a){var b=rowInit();b.avatar=a.imageUrl?a.imageUrl:a.photos&&0<a.photos.length?a.photos[0]:"https://storage.googleapis.com/holastatic/img/profile.png";b.id=
a.id;b.name=a.fullName;b.headline=a.headline;b.location=a.currentLocation;a.socialLinks&&(b.socialLinks=a.socialLinks);b.socialLinks.linkedin=a.linkedInUrl;b.link=a.link;b.tags=a.tags;b.note=a.note;b.updated=a.updatedAt;vm.$data.gridData.push(b)})}).catch(function(a){console.log("Please contact help@holaconnect.com")});this.$children[0].sortBy("updated")})},methods:{movePages:function(a){a=this.startRow+a*this.rowsPerPage;0<=a&&a<gridData.length&&(this.startRow=a)},removeShortList:function(a){debugger}}});
function rowInit(){return{name:"",headline:"",location:"",socialLinks:{angellist:"",behance:"",dribbble:"",facebook:"",foursquare:"",github:"",google:"",googleplus:"",instagram:"",klout:"",lastfm:"",linkedin:"",myspace:"",pinterest:"",quora:"",reddit:"",tumblr:"",twitter:"",vimeo:"",wordpress:"",youtube:""},tags:[],note:""}};
